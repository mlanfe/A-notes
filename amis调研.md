1. 概念

   - 数据域: 类似于js中的作用域, 不是组件都有数据域.  [具备数据域的组件](http://localhost:8888/zh-CN/docs/concepts/datascope-and-datachain#具备数据域的组件)
     - 部分组件的某些交互或行为会对当前组件的数据域进行更新. 例如: 表单提交后服务器返回的数据会更新到表单的数据域中
   - 数据链: 类似于js中的作用域链. 当前组件在遇到获取变量的场景, 沿着数据链层层向上查找
2. 变量
   - `${event.data}`: 执行动作时, 获取事件对象的数据
   - `${__rendererData}`: 执行动作时, 获取组件当前数据域
   - `${context}`: 执行动作时, 获取
   - `${window}` js全局变量
   - `${localStorage}`, `${sessionStorage}`, `${cookies}`, 
3. 模板 

   1. 支持过滤器: 类似ng中的pipe, 支持自定义过滤器
   2. 支持用 JavaScript 模板引擎进行组织输出
   3. 支持数据展开`&`, 类似js的`...`
4. 通过服务可以定义局部变量/发送网络请求

   - 服务下面的组件通过`${变量名}`的形式可以获取`数据域`中的变量值
   - 表单组件值动态改变会触发事件, 在事件中可以执行amis既定的行为(打开弹窗/提交表单等), 也可以通过原生js执行操作, 在原js中通过`context`变量可以获取相关的数据(表单本身的取值/上层service中的变量值)
5. 更新数据链-页面是否更新

   - 更新数据链的方式
     1. 通过原生js改变服务中自定义变量的取值时, 页面中展示的变量值没有动态改变;  
        - 是否可以在改变值后通过执行动作`刷新组件`实现?
     2. 通过点击/输入改变表单组件的取值时, 页面中展示变量值动态改变
     3. 在事件中执行动作`变量赋值`, 可以将`数据域`中的变量值赋值给页面组件中定义的变量, 页面中展示的变量值动态改变
        - `变量赋值`和`刷新组件`这两个`动作`, 执行的功能具有相似性但是给变量赋值时存在差别, 刷新组件可以追加数据并且设置数据的追加方式为覆盖/合并,  变量赋值不可以

   - 具备数据域的组件，默认会检测两层节点的数据是否发生变化（上层数据域和上上层数据域），来决定当前层的数据要不要更新
     - 问题: 
       - 当前组件也许并不关心上层数据是否变化，没必要进行这些刷新操作
       - 当前组件关系上上层的数据变化，但是在此拿不到最新的。
       - 解决方式
         - 对[具备数据域的组件](http://localhost:8888/zh-CN/docs/concepts/datascope-and-datachain?page=1#具备数据域的组件)配置`trackExpression`属性
6. 组件交互

   - 同级组件/父组件使用子组件的数据

     - 在事件中执行动作`变量赋值`, 可以将`数据域`中的变量值赋值给页面组件中定义的变量, 页面中展示的表单变量值动态改变
       - 配置目标target [组件间联动](http://localhost:8888/zh-CN/docs/concepts/linkage#组件间联动)

       - [动作间数据传递](http://localhost:8888/zh-CN/docs/concepts/event-action#动作间数据传递)

     - 当前组件可以将`数据域`存在的变量值赋值给页面中的任何变量

   - 子组件使用父组件的数据
     - 通过表达式(`${变量名}`)获取`数据域`中的变量值
7. 全局事件传递
8. 获取非表单组件件的内容?
9. 如何在js改变值时页面也动态改变????  是否可以在js执行后再执行动作`刷新组件` => 似乎只可以刷新数据容器组件和表单组件
10. 1->女 2->男的转换

   - 数据层面直接改变

   - 不改变数据在页面中控制

11. 有时候值只能绑定字符串, 在传值的时候可能比较麻烦
12. 一个组件只能初始化一个接口, 如果初始化有多个接口
13. 在amis编辑器里面写js语法提示不智能, debug不方便
14. 如果要在编辑器中无法使用js的外部库,  比如:lodash, moment等 (待研究)
15. 工具函数的封装和共享存在问题





1. 通过服务可以定义局部变量/发送网络请求

   - 服务下面的非表单控件通过`${变量名}`的形式可以获取数据, 但是表单控件似乎无法直接获取变量的取值
   - 表单控件值动态改变会触发事件, 在事件中可以执行amis既定的行为(打开弹窗/提交表单等), 也可以通过原生js执行操作, 在原js中通过`context`变量可以获取相关的数据

2. 通过原生js改变服务中自定义变量的取值时, 页面中展示的自定义变量没有动态改变;  但是通过点击改变表单控件的取值时, 页面中展示的表单对应的变量取值动态改变

3. 上层控件是否可以获取下层控件的取值?

4. 如何在改变值时页面也动态改变

   









   

